from core import nodes, network


class JsonfileComplex:

    qty_f = 25

    cpu_allocation = {}
    position = 0

    functions = ["ns/f0", "ns/f1", "ns/f2", "ns/f3", "ns/f4", "ns/f5",
                 "ns/f6", "ns/f7", "ns/f8", "ns/f9", "ns/f10", "ns/f11",
                 "ns/f12", "ns/f13", "ns/f14", "ns/f15", "ns/f16", "ns/f17",
                 "ns/f18", "ns/f19", "ns/f20", "ns/f21", "ns/f22", "ns/f23", "ns/f24"]

    input = {
        "with_db": False,
        "solver": {
            "type": "NeptuneMinDelay",
            "args": {"alpha": 0.0, "verbose": True}
        },
        "cpu_coeff": 1,
        "community": "community-test",
        "namespace": "namespace-test",
        "node_names": nodes[position],
        "node_delay_matrix": network[position]['node_delay_matrix'],

        "workload_on_source_matrix": [],

        "node_memories": network[position]["node_memories"],

        "execution_time": [
            358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358, 358,
            358, 358, 358, 358
        ],
        "node_cores": network[position]["node_cores"],
        "gpu_node_names": [
        ],
        "gpu_node_memories": [
        ],
        "function_names": functions,
        # "function_memories": [600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600,
        #               600, 600, 600, 600, 600, 600, 600],
            "function_memories": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500,
                                  500, 500, 500, 500, 500, 500, 500, 500],

        "function_cold_starts": [
            3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222, 3222,
            3222, 3222, 3222, 3222, 3222, 3222, 3222
        ],
        "function_max_delays": [
            50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50,	50
        ],
        "gpu_function_names": [
        ],
        "gpu_function_memories": [
        ],
        "actual_cpu_allocations": cpu_allocation,
        "app": "complex",
        "actual_gpu_allocations": {
        },

        # "nodes": [
        #     {"name": "f0", "users": 1, "nrt": 10},
        #     {"name": "f1", "users": 1, "nrt": 10},
        #     {"name": "f2", "users": 1, "nrt": 10},
        #     {"name": "f3", "users": 1, "nrt": 10},
        #     {"name": "f4", "users": 1, "nrt": 10},
        #     {"name": "f5", "users": 1, "nrt": 10},
        #     {"name": "f6", "users": 1, "nrt": 10},
        #     {"name": "f7", "users": 1, "nrt": 10},
        #     {"name": "f8", "users": 1, "nrt": 10},
        #     {"name": "f9", "users": 1, "nrt": 10},
        #     {"name": "f10", "users": 1, "nrt": 10},
        #     {"name": "f11", "users": 1, "nrt": 10},
        #     {"name": "f12", "users": 1, "nrt": 10},
        #     {"name": "f13", "users": 1, "nrt": 10},
        #     {"name": "f14", "users": 1, "nrt": 10},
        #     {"name": "f15", "users": 1, "nrt": 10},
        #     {"name": "f16", "users": 1, "nrt": 10},
        #     {"name": "f17", "users": 1, "nrt": 10},
        #     {"name": "f18", "users": 1, "nrt": 10},
        #     {"name": "f19", "users": 1, "nrt": 10},
        #     {"name": "f20", "users": 1, "nrt": 10},
        #     {"name": "f21", "users": 1, "nrt": 10},
        #     {"name": "f22", "users": 1, "nrt": 10},
        #     {"name": "f23", "users": 1, "nrt": 10},
        #     {"name": "f24", "users": 1, "nrt": 10},
        # ],
        #
        # "edges": [
        #     {"source": "f0", "target": "f1", "sync": 1, "times": 1},
        #     {"source": "f0", "target": "f4", "sync": 1, "times": 1},
        #     {"source": "f0", "target": "f2", "sync": 2, "times": 1},
        #     {"source": "f0", "target": "f3", "sync": 3, "times": 1},
        #     {"source": "f0", "target": "f5", "sync": 4, "times": 1},
        #     {"source": "f0", "target": "f6", "sync": 5, "times": 1},
        #     {"source": "f1", "target": "f14", "sync": 6, "times": 1},
        #     {"source": "f1", "target": "f15", "sync": 6, "times": 1},
        #     {"source": "f3", "target": "f2", "sync": 7, "times": 1},
        #     {"source": "f3", "target": "f11", "sync": 8, "times": 1},
        #     {"source": "f2", "target": "f7", "sync": 9, "times": 1},
        #     {"source": "f2", "target": "f8", "sync": 10, "times": 1},
        #     {"source": "f2", "target": "f9", "sync": 10, "times": 1},
        #     {"source": "f4", "target": "f11", "sync": 11, "times": 1},
        #     {"source": "f4", "target": "f12", "sync": 11, "times": 1},
        #     {"source": "f5", "target": "f12", "sync": 12, "times": 1},
        #     {"source": "f5", "target": "f13", "sync": 13, "times": 1},
        #     {"source": "f6", "target": "f13", "sync": 14, "times": 1},
        #     {"source": "f15", "target": "f16", "sync": 15, "times": 1},
        #     {"source": "f7", "target": "f16", "sync": 16, "times": 1},
        #     {"source": "f8", "target": "f17", "sync": 17, "times": 1},
        #     {"source": "f17", "target": "f19", "sync": 18, "times": 1},
        #     {"source": "f11", "target": "f10", "sync": 19, "times": 1},
        #     {"source": "f12", "target": "f20", "sync": 20, "times": 1},
        #     {"source": "f12", "target": "f21", "sync": 20, "times": 1},
        #     {"source": "f13", "target": "f18", "sync": 21, "times": 1},
        #     {"source": "f20", "target": "f22", "sync": 22, "times": 1},
        #     {"source": "f21", "target": "f23", "sync": 23, "times": 1},
        #     {"source": "f21", "target": "f24", "sync": 23, "times": 1},
        #     ],
        # # 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
        # "m": [[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        #       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

        "nodes": [
            {"name": "f0", "users": 1, "nrt": 10},
            {"name": "f1", "users": 1, "nrt": 10},
            {"name": "f2", "users": 1, "nrt": 10},
            {"name": "f3", "users": 1, "nrt": 10},
            {"name": "f4", "users": 1, "nrt": 10},
            {"name": "f5", "users": 1, "nrt": 10},
            {"name": "f6", "users": 1, "nrt": 10},
            {"name": "f7", "users": 1, "nrt": 10},
            {"name": "f8", "users": 1, "nrt": 10},
            {"name": "f9", "users": 1, "nrt": 10},
            {"name": "f10", "users": 1, "nrt": 10},
            {"name": "f11", "users": 1, "nrt": 10},
            {"name": "f12", "users": 1, "nrt": 10},
            {"name": "f13", "users": 1, "nrt": 10},
            {"name": "f14", "users": 1, "nrt": 10},
            {"name": "f15", "users": 1, "nrt": 10},
            {"name": "f16", "users": 1, "nrt": 10},
            {"name": "f17", "users": 1, "nrt": 10},
            {"name": "f18", "users": 1, "nrt": 10},
            {"name": "f19", "users": 1, "nrt": 10},
            {"name": "f20", "users": 1, "nrt": 10},
            {"name": "f21", "users": 1, "nrt": 10},
            {"name": "f22", "users": 1, "nrt": 10},
            {"name": "f23", "users": 1, "nrt": 10},
            {"name": "f24", "users": 1, "nrt": 10},
        ],

        "edges": [
            {"source": "f0", "target": "f1", "sync": 1, "times": 1},
            {"source": "f0", "target": "f4", "sync": 1, "times": 1},
            {"source": "f0", "target": "f2", "sync": 1, "times": 1},
            {"source": "f0", "target": "f3", "sync": 1, "times": 1},
            {"source": "f0", "target": "f5", "sync": 1, "times": 1},
            {"source": "f0", "target": "f6", "sync": 1, "times": 1},
            {"source": "f1", "target": "f14", "sync": 2, "times": 1},
            {"source": "f1", "target": "f15", "sync": 2, "times": 1},
            {"source": "f3", "target": "f10", "sync": 3, "times": 1},
            {"source": "f2", "target": "f7", "sync": 4, "times": 1},
            {"source": "f2", "target": "f8", "sync": 4, "times": 1},
            {"source": "f2", "target": "f9", "sync": 4, "times": 1},
            {"source": "f4", "target": "f10", "sync": 5, "times": 1},
            {"source": "f4", "target": "f12", "sync": 5, "times": 1},
            {"source": "f5", "target": "f12", "sync": 6, "times": 1},
            {"source": "f5", "target": "f13", "sync": 6, "times": 1},
            {"source": "f6", "target": "f13", "sync": 7, "times": 1},
            {"source": "f15", "target": "f16", "sync": 8, "times": 1},
            {"source": "f7", "target": "f16", "sync": 9, "times": 1},
            {"source": "f8", "target": "f17", "sync": 10, "times": 1},
            {"source": "f17", "target": "f19", "sync": 11, "times": 1},
            {"source": "f10", "target": "f11", "sync": 12, "times": 1},
            {"source": "f12", "target": "f20", "sync": 13, "times": 1},
            {"source": "f12", "target": "f21", "sync": 13, "times": 1},
            {"source": "f13", "target": "f18", "sync": 14, "times": 1},
            {"source": "f20", "target": "f22", "sync": 15, "times": 1},
            {"source": "f21", "target": "f23", "sync": 16, "times": 1},
            {"source": "f21", "target": "f24", "sync": 16, "times": 1},
        ],
             # 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
        "m": [[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
              [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],


        "parallel_scheduler": [[0], [1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 12, 13, 14, 15], [11, 16, 17, 18, 20, 21],
                               [19, 22, 23, 24]]
    }

